<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>网络协议学习卡片</title>
    <style>
        :root {
            --primary-hue: 210;
            --primary-color: hsl(var(--primary-hue), 80%, 50%);
            --secondary-color: hsl(45, 100%, 50%);
            --bg-color: hsl(0, 0%, 98%);
            --card-bg: hsl(0, 0%, 100%);
            --text-color: hsl(0, 0%, 20%);
            --border-radius: 12px;
            --shadow: 0 4px 12px hsla(0, 0%, 0%, 0.1);
            --spacing-unit: 8px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.5;
            padding: var(--spacing-unit);
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        h1 {
            color: var(--primary-color);
            margin: calc(var(--spacing-unit) * 2) 0;
            text-align: center;
            font-size: 1.5rem;
        }

        .cards-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: calc(var(--spacing-unit) * 2);
            width: 100%;
            max-width: 500px;
            margin-bottom: calc(var(--spacing-unit) * 2);
        }

        .card {
            width: 100%;
            height: 300px;
            perspective: 1000px;
            cursor: pointer;
        }

        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.6s;
            transform-style: preserve-3d;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
        }

        .card.flipped .card-inner {
            transform: rotateY(180deg);
        }

        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: var(--border-radius);
            padding: calc(var(--spacing-unit) * 3);
            display: flex;
            flex-direction: column;
            background-color: var(--card-bg);
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }

        .card-front {
            justify-content: center;
            align-items: center;
            text-align: center;
            border: 2px solid var(--primary-color);
        }

        .card-back {
            transform: rotateY(180deg);
            border: 2px solid var(--secondary-color);
        }

        .card-title {
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: calc(var(--spacing-unit) * 2);
            color: var(--primary-color);
        }

        .card-content {
            flex: 1;
        }

        .card-content dl {
            display: grid;
            grid-template-columns: max-content 1fr;
            gap: calc(var(--spacing-unit) * 1) calc(var(--spacing-unit) * 2);
        }

        .card-content dt {
            font-weight: 600;
            color: var(--primary-color);
        }

        .card-content dd {
            margin-left: 0;
        }

        .card-content ul {
            padding-left: calc(var(--spacing-unit) * 3);
        }

        .card-content li {
            margin-bottom: calc(var(--spacing-unit) * 1.5);
        }

        mark {
            background-color: hsl(45, 100%, 90%);
            padding: 0 4px;
            border-radius: 2px;
        }

        .divider {
            height: 1px;
            background-color: hsl(0, 0%, 90%);
            margin: calc(var(--spacing-unit) * 2) 0;
        }

        .emoji {
            font-size: 1.8rem;
            margin-bottom: calc(var(--spacing-unit) * 1.5);
        }

        .progress {
            margin-top: calc(var(--spacing-unit) * 2);
            font-size: 0.9rem;
            color: hsl(0, 0%, 60%);
        }

        @media (max-width: 400px) {
            .card {
                height: 350px;
            }
            
            .card-title {
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>
    <h1>网络协议学习卡片</h1>
    
    <div class="cards-container">
        <!-- Card 1 -->
        <div class="card" onclick="flipCard(this)" tabindex="0" role="button" aria-label="停止等待协议卡片">
            <div class="card-inner">
                <div class="card-front">
                    <div class="emoji">⏳</div>
                    <h2 class="card-title">停止等待协议</h2>
                    <p>点击查看详情</p>
                </div>
                <div class="card-back">
                    <h2 class="card-title">停止等待协议</h2>
                    <div class="card-content">
                        <dl>
                            <dt>特点</dt>
                            <dd>发送窗口=1，接收窗口=1，单帧传输确认机制</dd>
                            
                            <dt>信道利用率公式</dt>
                            <dd><mark>U = T<sub>D</sub> / (T<sub>D</sub> + RTT + T<sub>A</sub>)</mark></dd>
                            
                            <dt>简化公式</dt>
                            <dd>当T<sub>A</sub>≈0时：<mark>U = T<sub>D</sub> / (T<sub>D</sub> + RTT)</mark></dd>
                        </dl>
                        
                        <div class="divider"></div>
                        
                        <ul>
                            <li><strong>示例</strong>：T<sub>D</sub>=4s，RTT=14s，T<sub>A</sub>=1s → U≈21%</li>
                            <li><strong>忽略T<sub>A</sub></strong>时：U≈22.2%</li>
                            <li><strong>分子</strong>：有效数据传输时间</li>
                            <li><strong>分母</strong>：完整传输周期</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Card 2 -->
        <div class="card" onclick="flipCard(this)" tabindex="0" role="button" aria-label="GBN和SR协议卡片">
            <div class="card-inner">
                <div class="card-front">
                    <div class="emoji">🔄</div>
                    <h2 class="card-title">GBN/SR协议</h2>
                    <p>点击查看详情</p>
                </div>
                <div class="card-back">
                    <h2 class="card-title">后退N帧(GBN)和选择重传(SR)</h2>
                    <div class="card-content">
                        <dl>
                            <dt>共同特点</dt>
                            <dd>发送窗口大小N > 1，可连续发送多个数据帧</dd>
                            
                            <dt>信道利用率公式</dt>
                            <dd><mark>U = (N × T<sub>D</sub>) / (T<sub>D</sub> + RTT + T<sub>A</sub>)</mark></dd>
                            
                            <dt>最大利用率</dt>
                            <dd>当N×T<sub>D</sub> ≥ T<sub>D</sub>+RTT+T<sub>A</sub>时，U=100%</dd>
                        </dl>
                        
                        <div class="divider"></div>
                        
                        <ul>
                            <li><strong>GBN特点</strong>：接收窗口=1，累计确认机制</li>
                            <li><strong>SR特点</strong>：接收窗口>1，单独确认机制</li>
                            <li><strong>帧序号约束</strong>：
                                <ul>
                                    <li>GBN：W<sub>T</sub> ≤ 2<sup>n</sup>-1</li>
                                    <li>SR：W<sub>T</sub>+W<sub>R</sub> ≤ 2<sup>n</sup></li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Card 3 -->
        <div class="card" onclick="flipCard(this)" tabindex="0" role="button" aria-label="ARQ协议卡片">
            <div class="card-inner">
                <div class="card-front">
                    <div class="emoji">🔄</div>
                    <h2 class="card-title">ARQ协议</h2>
                    <p>点击查看详情</p>
                </div>
                <div class="card-back">
                    <h2 class="card-title">ARQ协议分类</h2>
                    <div class="card-content">
                        <dl>
                            <dt>ARQ协议</dt>
                            <dd>自动重传请求协议 (Automatic Repeat Request)</dd>
                            
                            <dt>包含</dt>
                            <dd>
                                <ol>
                                    <li>停止等待协议(S-W)</li>
                                    <li>后退N帧协议(GBN)</li>
                                    <li>选择重传协议(SR)</li>
                                </ol>
                            </dd>
                            
                            <dt>连续ARQ协议</dt>
                            <dd>特指发送窗口>1的协议 (GBN和SR)</dd>
                        </dl>
                        
                        <div class="divider"></div>
                        
                        <ul>
                            <li><strong>滑动窗口协议</strong>：专指GBN和SR</li>
                            <li><strong>停止等待协议</strong>不属于滑动窗口协议</li>
                            <li><strong>核心特征</strong>：未收到ACK时自动重传数据帧</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Card 4 -->
        <div class="card" onclick="flipCard(this)" tabindex="0" role="button" aria-label="信道利用率计算卡片">
            <div class="card-inner">
                <div class="card-front">
                    <div class="emoji">🧮</div>
                    <h2 class="card-title">信道利用率计算</h2>
                    <p>点击查看详情</p>
                </div>
                <div class="card-back">
                    <h2 class="card-title">信道利用率计算要点</h2>
                    <div class="card-content">
                        <dl>
                            <dt>通用公式</dt>
                            <dd>有效传输时间 / 总周期时间</dd>
                            
                            <dt>两种算法</dt>
                            <dd>
                                <ol>
                                    <li>实际速率 / 带宽</li>
                                    <li>公式法（含窗口参数）</li>
                                </ol>
                            </dd>
                        </dl>
                        
                        <div class="divider"></div>
                        
                        <ul>
                            <li><strong>结果限制</strong>：≤100%</li>
                            <li><strong>真题陷阱</strong>：
                                <ul>
                                    <li>确认帧传播时延≠传输时延</li>
                                    <li>单位换算(ms↔s, B↔b)</li>
                                </ul>
                            </li>
                            <li><strong>帧编号比特数</strong>：≥⌈log<sub>2</sub>(W+1)⌉</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="progress">4/4 张卡片</div>

    <script>
        function flipCard(card) {
            card.classList.toggle('flipped');
        }
        
        // Add keyboard support for accessibility
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Enter' || event.key === ' ') {
                const focusedCard = document.activeElement;
                if (focusedCard.classList.contains('card')) {
                    flipCard(focusedCard);
                    event.preventDefault();
                }
            }
        });
    </script>
</body>
</html>
